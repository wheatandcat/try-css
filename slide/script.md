---
01. タイトル
---
02. 自己紹介
---
03. そのまま読む
---
04. 

1.データ管理と表示を分割して、サーバーとクライントを分離する
2.HTMLの基礎に逆らわず開発する。まぁ、逆に言うとfrontendやっている人は分かると思いますが、ReactやJSXは結構HTMLの流れに沿わずに使われてきたので、そこを見直している感じですかね。
3.JavaScriptの機能を使用して、ユーザーエクスペリエンスを高める的な感じですかね。まぁ、これもNext.jsとかNuxt.jsとかはISRとか複雑な機構でパフォーマンス向上させている部分もあるので、Remixのアプローチだとよりシンプルな構造で実装している感じになっているかなと思います。
4.元の技術をあまり抽象化しすぎるな的な感じですかね。たぶん、これはReact HooksとかuseEffectとかuseMemoとか、その辺に対しての話なのかなという感じですが、従来のHTMLやJavaScriptの持つ概念を抽象化し過ぎてていてわかりづらくなっていたりもするので、Remixでは、その辺を基礎となら技術に寄せた書き方をするようになっています。

---

05. チュートリアルをやってみる

このURLからチュートリアルが出来るんですけど、
このチュートリアルが結構よくできていてですね、

Hello worldを作って
routes/jokes/index.tsxを作ると、URLもjokes/で開ける画面ができて、とここまでnext.jsと同じですが、

この下辺りから、結構変わっていって、Stylingは、こんな感じで、
routes/index.tsxの方に、export const linksにrelにcssのimportを渡してあげて、
app/root.tsxのLinkのところで↑のexportが反映されて、表示的にはhtmlで使われるlinkタグでcssを読み込む形式になる
この辺は、webpackとか挟むとjsの中身にビルドインされたり、htmlの内部のstyleに変換されたりして、こういう風にならなかったりするんですが、Remixだと、そのままlinkで生成される

また、router毎に読み込むcssが変えられたりする。
たぶん従来のSPAだと、基本、どのURL画面を開いても全てのCSSを読み込まれた状態だと思うのですが、RemixだとRouter毎に、この辺の制御が行える


データ取得はloaderを使用して、useLoaderDataを実行すると↑のloader部分が発火して、APIアクセスが行く感じです。
まぁ、なんで基本的な作りとして1コンポーネントでアクセスするAPIは一個みたいな制約はなっているのかなと思います。

更に下の方に行くとroutes/jokes/new.tsxのところでいくと、export const actionのところでformの値を取得してAPIアクセスするところなのですが、これもReactとかのコードに慣れていると、え？って感じだと思いますが、formタグが合って、下のsubmitをクリックすると、actionが発火するみたいな仕組みになっていて、actionの中ではformタグ内のinputの値にアクセスできるみたいな感じです。

これはReactとかやっていると、大体inputにハンドラーをつけて、hooksだとuseStateを使ってstateで値を管理していますが、Remixでは従来のstate管理はせず、従来のHTMLでのFormの扱いに近い形で実装しています。
Reactに慣れきっていて、変な気もするんですが、よくよくこっちの方がHTMLの実装に近いよなーなんて思ったりしました。
stateで管理する値がが多すぎて、シンプルな設計を失いがちなので、Remixだとこの辺がシンプルな実装になりそう

じゃあ、バリデーションとかどうするのか？って感じると思うのですが、その辺も書いてあって、badRequestでfieldErrorsを返してあげると、jsonとしてuseActionDataの値が更新されて、actionData?.fieldErrors?.nameがあったらバリエーションエラーを表示みたいな感じで実装できる

authenticationも合ったけど、この辺はCookieとかMiddlewareも使えるよ的な話だったので割愛して、下まで行って
errorsハンドリングの話ですかね。

この辺は、React18で入るSuspenseを意識した作りになっているのかなと思うのですが、
各ルーターでエラーが発生するとErrorBoundaryが発火して、画像のような表示になる。
この辺も従来のエラーハンドリングだと、画面全体でエラーを検知して表示する的な感じだと思うのですが、
Remixだとエラーが発生したrouter内部のレンダリング部分が差し替わる感じになっている

また、データ送信/取得の際にエラーをthrowをさせてErrorBoundaryを発火させたりもできるので、エラーも結構シンプルな作りになるのかなという感じです。

Metaタグとかもこんな感じでrouter毎にHTMLっぽく設定できたり、
RSSとかも、さっくり作りたりしますねー

あと、javascriptの部分は、RemixはDefaultの状態だとjavascriptを読み込まず、全てRSSしている。
もし、ブラウザでjsをOFFにされていても動作する。
一応、javascriptタグつけると読みませる事も可能（ほぼ使いみちは無さ気だけど）

optimistic-uiは通信が遅いとのローディングとか制御ですね。
useTransitionを使うとAPI読み込みの待ちの状態を取得できて、画面のような感じで制御できる

チュートリアルは、こんな感じと内容はかなり充実しているかなと思います。

---
- 06

先程のチュートリアルでほぼ説明してしまったので、この辺が特徴になっている

文章を読む

下の4つは、チュートリアルで説明してしまったので割愛してｍパフォーマンスのアプローチの違いについてのみ説明しようかなと思います

---
- 07















